<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seznamka - love-dates</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .container {
            width: 80%;
            margin: auto;
            overflow: hidden;
        }

        #header {
            background: #333;
            color: #fff;
            padding-top: 30px;
            min-height: 70px;
            border-bottom: #0779e4 3px solid;
        }

        #header h1 {
            text-align: center;
            margin: 0;
            font-size: 24px;
        }

        nav {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        nav button {
            padding: 10px 20px;
            margin: 0 10px;
            background: #0779e4;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }

        .section {
            display: none;
            padding: 20px;
            background: #fff;
            margin-bottom: 20px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }

        .active {
            display: block;
        }

        input, select, button, textarea {
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 100%;
        }

        .coin-container, .emoji-container {
            display: flex;
            align-items: center;
        }

        .emoji {
            cursor: pointer;
            font-size: 24px;
            margin-right: 10px;
        }

        #chat-box {
            width: 100%;
            height: 150px;
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            overflow-y: scroll;
        }

        .chat-message {
            margin: 5px 0;
        }
</style>
<form action="https://www.paypal.com/ncp/payment/76E9F6NKHAPVU" method="post" target="_top" style="display:inline-grid;justify-items:center;align-content:start;gap:0.5rem;">
  <input class="pp-76E9F6NKHAPVU" type="submit" value="Koupit" />
  <img src=https://www.paypalobjects.com/images/Debit_Credit_APM.svg alt="cards" />
  <section> Vyu쮂셨치 slu쬭u <img src="https://www.paypalobjects.com/paypal-ui/logos/svg/paypal-wordmark-color.svg" alt="paypal" style="height:0.875rem;vertical-align:middle;"/></section>
</form>
</head>

<body>

<div id="header">
    <h1>Seznamka - love-dates</h1>
</div>

<div class="container">
    <!-- Navigace -->
    <nav>
        <button onclick="showSection('registration-section')">Registrace</button>
        <button onclick="showSection('profile-section')">Profil</button>
        <button onclick="showSection('chat-section')">Chat</button>
        <button onclick="showSection('payment-section')">Platby</button>
    </nav>

    <!-- Sekce Registrace -->
    <div id="registration-section" class="section active">
        <h2>Registrace</h2>
        <input type="text" id="username" placeholder="U쬴vatelsk칠 jm칠no">
        <input type="email" id="email" placeholder="E-mail">
        <input type="password" id="password" placeholder="Heslo">
        <button id="register">Registrovat</button>
    </div>

    <!-- Sekce Profil -->
    <div id="profile-section" class="section">
        <h2>Profil</h2>
        <p id="profile-info"></p>
    </div>

    <!-- Chat a smajl칤ky -->
    <div id="chat-section" class="section">
        <h2>Chat</h2>
        <div id="chat-box"></div>
        <textarea id="chat-input" placeholder="Napi코te zpr치vu..."></textarea>
        <button id="send-message">Odeslat zpr치vu</button>

        <div class="emoji-container">
            <span class="emoji">游땕</span>
            <span class="emoji">游땍</span>
            <span class="emoji">仇벒잺</span>
            <span class="emoji">游땢</span>
            <span class="emoji">游녨</span>
            <span class="emoji">游봅</span>
            <span class="emoji">游눘</span>
            <span class="emoji">游꾹</span>
            <span class="emoji">游꾸</span>
            <span class="emoji">游꾿</span>
            <span class="emoji">游땘</span>
            <span class="emoji">游꿀</span>
            <span class="emoji">游똂</span>
            <span class="emoji">游븨</span>
            <span class="emoji">游꼻</span>
            <span class="emoji">游꿬</span>
            <span class="emoji">游꿁</span>
            <span class="emoji">游눗</span>
            <span class="emoji">游댠</span>
        </div>

        <div class="coin-container">
            <span>Zb칳vaj칤c칤 mince: <span id="coin-count">150</span></span>
        </div>
    </div>
    
    <p><h4>Vyberte si z rozbalovac칤 nab칤dky kolik chcete  minc칤 500 minc칤 je minimum, maximum je 10000 minc칤 cena za 500 minc칤 캜in칤 250K캜 z pole quantiti si vyberte 캜칤slo od 1-20 ! 1 = 500 minc칤 co 캜in칤 250K캜. </h4></p>
    
    <!-- Sekce Platby -->
    <div id="payment-section" class="section">
        <h2>Koupit mince</h2>
        <label for="coin-amount">Vyberte po캜et minc칤:</label>
        <select id="coin-amount">
            <option value="500">500 minc칤</option>
            <option value="1000">1000 minc칤</option>
            <option value="1500">1500 minc칤</option>
            <option value="2000">2000 minc칤</option>
            <option value="2500">2500 minc칤</option>
            <option value="3000">3000 minc칤</option>
            <option value="3500">3500 minc칤</option>
            <option value="4000">4000 minc칤</option>
            <option value="4500">4500 minc칤</option>
            <option value="5000">5000 minc칤</option>
            <option value="6000">6000 minc칤</option>
            <option value="7000">7000 minc칤</option>
            <option value="8000">8000 minc칤</option>
            <option value="9000">9000 minc칤</option>
            <option value="10000">10000 minc칤</option>
        </select>

        <p>Cena: <span id="price">250 K캜</span></p>
    </div>
    
</div>
<ul id="messages"></ul>
    <form id="form" action="">
        <input id="input" autocomplete="off" /><button>Send</button>
    </form>
    <script src="/socket.io/socket.io.js"></script>
<script>
    // Funkce pro p콏ep칤n치n칤 mezi sekcemi
    function showSection(sectionId) {
        const sections = document.querySelectorAll('.section');
        sections.forEach(section => section.classList.remove('active'));
        document.getElementById(sectionId).classList.add('active');
    }

    // Z치kladn칤 funkce pro registraci
    document.getElementById('register').addEventListener('click', function () {
        const username = document.getElementById('username').value;
        const email = document.getElementById('email').value;
        const profileInfo = `U쬴vatelsk칠 jm칠no: ${username} | E-mail: ${email}`;
        document.getElementById('profile-info').innerText = profileInfo;
        alert('Registrace 칰sp캩코n치!');
    });

    // P콏id치n칤 smajl칤ka do chatu
    document.querySelectorAll('.emoji').forEach(function(emoji) {
        emoji.addEventListener('click', function() {
            var chatInput = document.getElementById('chat-input');
            chatInput.value += emoji.textContent;
        });
    });

    // Odesl치n칤 zpr치vy a ode캜칤t치n칤 minc칤
    let coins = 150;
    const coinDisplay = document.getElementById('coin-count');
    document.getElementById('send-message').addEventListener('click', function () {
        const chatBox = document.getElementById('chat-box');
        const message = document.getElementById('chat-input').value;

        if (coins <= 0) {
            alert('Do코ly v치m mince, pros칤m kupte si dal코칤.');
            showSection('payment-section');
            return;
        }

        // P콏id치n칤 zpr치vy do chatu
        if (message.trim() !== '') {
            const messageElement = document.createElement('div');
            messageElement.className = 'chat-message';
            messageElement.textContent = message;
            chatBox.appendChild(messageElement);
            document.getElementById('chat-input').value = '';
            chatBox.scrollTop = chatBox.scrollHeight;  // Posunout chat dol콢

            // Ode캜ten칤 minc칤
            coins -= 30;
            coinDisplay.textContent = coins;

            if (coins <= 0) {
                alert('Do코ly v치m mince, pros칤m kupte si dal코칤.');
                showSection('payment-section');
            }
        }
    });
 // Inicializace socket.io
        const socket = io();
 const form = document.getElementById('form');
        const input = document.getElementById('input');
      form.addEventListener('submit', function(e) {
            e.preventDefault();
            if (input.value) {
                socket.emit('chat message', input.value);
                input.value = '';
            }
        });    

 socket.on('chat message', function(msg) {
            const item = document.createElement('li');
            item.textContent = msg;
            document.getElementById('messages').appendChild(item);
            window.scrollTo(0, document.body.scrollHeight);
        });


// Odes칤l치n칤 zpr치v
        const sendButton = document.getElementById('send-button');
        const chatMessage = document.getElementById('chat-message');
        const chatBox = document.getElementById('chat-box');

// Ud치lost pro odesl치n칤 zpr치vy
        sendButton.addEventListener('click', () => {
            const message = chatMessage.value;
            if (message.trim() !== '') {
                socket.emit('chat message', message);  // Odes칤l치n칤 zpr치vy p콏es socket.io
                chatMessage.value = '';  // Vymaz치n칤 vstupu po odesl치n칤
            }
        });

  // P콏칤jem zpr치v
        socket.on('chat message', (message) => {
            const messageElement = document.createElement('div');
            messageElement.textContent = message;
            chatBox.appendChild(messageElement);
            chatBox.scrollTop = chatBox.scrollHeight;  // Automatick칳 posun dol콢
        });

    // Aktualizace ceny podle po캜tu vybran칳ch minc칤
    document.getElementById('coin-amount').addEventListener('change', function () {
        const amount = parseInt(this.value);
        const price = amount / 2;
        document.getElementById('price').textContent = `${price} K캜`;
    });
</script>
<script src="https://cdn.socket.io/4.0.1/socket.io.min.js"></script>
</body>
</html>
